function On_Command(e,t,n){var r=Plugin.GetIni("Event++");var i=Plugin.GetIni("Settings");var s=r.GetSetting("In Event",e.SteamID);var o=Plugin.GetIni("Store");var u=r.GetSetting("Event++","Turn");var a=r.GetSetting("Event++","Game");var f=Plugin.GetIni("Spawns");var l=f.GetSetting("SPAWNS","spawns");var c=Math.floor(Math.random()*l+1);var h=f.GetSetting("SPAWNS",c+"X");var p=f.GetSetting("SPAWNS",c+"Y");var d=f.GetSetting("SPAWNS",c+"Z");var v=DataStore.Get("Event Points",e.SteamID);var m=DataStore.Get("Event PushBack",e.SteamID);if(t=="test"){DataStore.Add("Event Points",e.SteamID,v+5);e.InventoryNotice("☠ ⇑ "+(v+5)+" ⇎ "+e.Name);ArmorRewards(e);WeaponRewards(e);CheckWpAmm(e);var g=e;ArmorCheck(g);WeaponCheck(g)}if(t=="stoevent"&&e.Admin){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php")}if(t=="topevent"){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php")}if(t=="inevent"){EventInfo(e)}if(t=="poevent"&&s==e.Name+" - Playing"){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php")}if(t=="ckevent"){var y=GetPoints(e);e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");e.MessageFrom("Event++","Your [color#ADD8E6]Event Points ⇒[/color] [color#00FFFF]☠ "+y+" ☠")}if(t=="clevent"){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php")}if(t=="event"){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");var b=0;for(var w in Server.Players){var E=DataStore.Get("Event Points",w.SteamID);if(E!=null){b++}}e.MessageFrom("Event++","[color#ADD8E6]To JOIN the Event:[/color] [color#FF0000]/jevent[/color] [color#ADD8E6]To LEAVE the Event:[/color] [color#FF0000]/levent[/color] [color#ADD8E6]For Event INFO:[/color] [color#FF0000]/inevent");e.MessageFrom("Event++","[color#ADD8E6]To check your ☠ type:[/color] [color#FF0000]/ckevent[/color] [color#ADD8E6]For Claiming Rewards type:[/color] [color#FF0000]/clevent");e.MessageFrom("Event++","[color#ADD8E6]To see the TOP Event Players type[/color] [color#FF0000]/topevent[/color]");if(u=="OPEN"&&b==0){var u="[color#00FF00]"+u;e.MessageFrom("Event++","[color#ADD8E6]Event:[/color] [color#488AC7]"+a+"[/color] "+u)}else if(u=="CLOSED"){var u="[color#FF0000]"+u;e.MessageFrom("Event++","[color#ADD8E6]Event:[/color] [color#488AC7]"+a+"[/color] "+u)}else if(u=="OPEN"&&b>0){e.MessageFrom("Event++","[color#ADD8E6]Event:[/color] [color#488AC7]"+a+"[/color] "+"[color#FFFF00]Players in: "+b)}else{e.MessageFrom("Event++","[color#488AC7]Event is not SET !")}}if(t=="jevent"){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");var S=System.DateTime.Now.ToString("dd")*24;var x=System.DateTime.Now.ToString("HH")*60*60;var T=System.DateTime.Now.ToString("mm")*60;var N=System.DateTime.Now.ToString("ss");var C=parseInt(S)+parseInt(x)+parseInt(T)+parseInt(N);var k=r.GetSetting("In Event",e.SteamID);var L=k-C;var A=parseInt(L/60);var O=L-A*60;if(u=="OPEN"&&a!="NONE"&&k<C&&s!=e.Name+" - Playing"){r.AddSetting("In Event",e.SteamID,e.Name+" - Playing");r.Save();Server.BroadcastFrom("Event++","[color#488AC7]"+e.Name+"[/color] [color#ADD8E6]Joined Event[/color]. To join use: [color#FF0000]/jevent");e.TeleportTo(h,p,d);DataStore.Add("Event Points",e.SteamID,0);DataStore.Add("Event PushBack",e.SteamID,150);DataStore.Add("Event Abuse",e.SteamID,0);DataStore.Add("Event AbuseP",e.SteamID,0);DataStore.Add("Event AbuseV",e.SteamID,0);recInv(e);EventLoadOut(e);EventInfo(e);if(!Plugin.GetTimer("GlitchCheck")){Plugin.CreateTimer("GlitchCheck",6e5).Start()}}else if(u=="CLOSED"&&!e.Admin){e.MessageFrom("Event++","Event is [color#FF0000]CLOSED[/color] !")}else if(u=="CLOSED"&&e.Admin&&a!="NONE"&&s!=e.Name+" - Playing"){r.AddSetting("In Event",e.SteamID,e.Name+" - Playing");r.Save();e.MessageFrom("Event++","[color#FF0000]You are in ADMIN TESTING.");e.TeleportTo(h,p,d);DataStore.Add("Event Points",e.SteamID,0);DataStore.Add("Event PushBack",e.SteamID,150);DataStore.Add("Event Abuse",e.SteamID,0);DataStore.Add("Event AbuseP",e.SteamID,0);DataStore.Add("Event AbuseV",e.SteamID,0);recInv(e);EventLoadOut(e);EventInfo(e);if(!Plugin.GetTimer("GlitchCheck")){Plugin.CreateTimer("GlitchCheck",6e5).Start()}}else if(u=="OPEN"&&a!="NONE"&&k>C){e.Notice("⌚ "+A+"m. "+O+"s. You cant join the Event now ⌛")}else if(u=="OPEN"&&s==e.Name+" - Playing"){e.TeleportTo(h,p,d)}else if(u=="CLOSED"&&e.Admin&&s==e.Name+" - Playing"){e.TeleportTo(h,p,d);e.Inventory.ClearAll();EventLoadOut(e)}else{e.MessageFrom("Event++","[color#ADD8E6]Event or Game Style is not SET!")}}if(t=="levent"){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");if(s==e.Name+" - Playing"){var i=Plugin.GetIni("Settings");var M=i.GetSetting("CoolDown","Leave CD Min");var S=System.DateTime.Now.ToString("dd")*24;var x=System.DateTime.Now.ToString("HH")*60*60;var T=System.DateTime.Now.ToString("mm")*60;var N=System.DateTime.Now.ToString("ss");var C=parseInt(S)+parseInt(x)+parseInt(T)+parseInt(N);var _=parseInt(C)+M*60;if(v>=1){AddPoints(e,v)}retInv(e);Server.BroadcastFrom("Event++","[color#488AC7]"+e.Name+"[/color] [color#ADD8E6]LEAVED From Event[/color] [color#00FFFF]☠ "+v+" ☠");DataStore.Remove("Event Points",e.SteamID);DataStore.Remove("Event PushBack",e.SteamID);DataStore.Remove("Event Abuse",e.SteamID);DataStore.Remove("Event AbuseP",e.SteamID);DataStore.Remove("Event AbuseV",e.SteamID);if(e.Admin){r.DeleteSetting("In Event",e.SteamID);r.Save()}else if(!e.Admin){r.AddSetting("In Event",e.SteamID,_);r.Save()}}else{e.MessageFrom("Eevent++","[color#ADD8E6]You are not Playing in Event !")}}if(t=="sevent"&&e.Admin){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");if(l=="undefined"){r.AddSetting("SPAWNS","spawns","0");r.Save()}else{if(u=="CLOSED"||u==null){r.AddSetting("Event++","Turn","CLOSED");r.AddSetting("Event++","Game","NONE");r.Save();l++;var D=e.Y+1.5;var P=e.X.toFixed(2)+", "+D.toFixed(2)+", "+e.Z.toFixed(2);f.AddSetting("SPAWNS",l+"X",e.X);f.AddSetting("SPAWNS",l+"Y",D);f.AddSetting("SPAWNS",l+"Z",e.Z);f.AddSetting("SPAWNS","spawns",l);f.Save();e.MessageFrom("Event++","New Spawn: [color#ADD8E6]"+P+"[/color] [color#488AC7](Spawn Number: "+l+")")}else{e.Notice("Event++","Event must be CLOSED to set New Spawn !")}}}if(t=="flevent"&&e.Admin){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");if(u=="CLOSED"){for(var H in f.EnumSection("SPAWNS")){var s=f.GetSetting("SPAWNS",H);f.DeleteSetting("SPAWNS",H);f.Save()}r.DeleteSetting("Event++","Turn");r.DeleteSetting("Event++","Game");r.Save();e.Notice("DELETED: All Event Spawns !")}else{e.Notice("Event must be CLOSED to delete Spawns !")}}if(t=="tevent"&&e.Admin){if(u=="CLOSED"&&a!="NONE"){Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");Server.BroadcastFrom("Event++","[color#ADD8E6]Event is now[/color] [color#00FF00]OPEN[/color] [color#ADD8E6]! Type[/color] [color#FF0000]/event[/color] [color#ADD8E6]for more info !");Server.BroadcastNotice("Event is now OPEN ! Type /event for more info !");r.AddSetting("Event++","Turn","OPEN");r.Save()}else if(u=="OPEN"){Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");Server.BroadcastFrom("Event++","[color#ADD8E6]Event is now[/color] [color#FF0000]CLOSED[/color] !");Server.BroadcastNotice("Event is now CLOSED !");r.AddSetting("Event++","Turn","CLOSED");r.Save();for(var B in Server.Players){var j=r.GetSetting("In Event",B.SteamID);if(j==B.Name+" - Playing"){var e=B;retInv(e);var F=DataStore.Get("Event Points",B.SteamID);if(F>=1){AddPoints(B,F)}}}for(var I in r.EnumSection("In Event")){var q=r.GetSetting("In Event",I);if(q.Contains("Playing")){r.DeleteSetting("In Event",I);r.Save()}}DataStore.Flush("Event Points");DataStore.Flush("Event PushBack");DataStore.Flush("Event Abuse");DataStore.Flush("Event AbuseV")}else{e.MessageFrom("Event++","[color#ADD8E6]Event or Game is not set ! Use first[/color] [color#FF0000]/sevent or /cevent")}}if(t=="cevent"&&e.Admin){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");if(n.Length!=0){var R=n[0].ToLower();if(u=="CLOSED"){if(R=="point"){Server.BroadcastFrom("Event++","[color#ADD8E6]Event Game Style is now [color#00FF00]Point Hunter[/color] !");r.AddSetting("Event++","Game","Point Hunter");r.Save()}else if(R=="door"){Server.BroadcastFrom("Event++","[color#ADD8E6]Event Game Style is now [color#00FF00]Door Finder[/color] !");r.AddSetting("Event++","Game","Door Finder");r.Save()}else{e.MessageFrom("Event++","[color#ADD8E6]Available Event Commands:[/color][color#488AC7] Point, Door")}}else{e.Notice("Event must be CLOSED to change Game Style !")}}else{e.MessageFrom("Event++","[color#ADD8E6]Available Event Commands:[/color][color#488AC7] Point, Door")}}}function EventInfo(e){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");var t=Plugin.GetIni("Event++");var n=t.GetSetting("Event++","Game");if(n=="Door Finder"){e.MessageFrom("Event++","[color#488AC7]▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀");e.MessageFrom("Event++","[color#ADD8E6]Your goals is to find 1st the Door. Finding the door will give you +600☠.");e.MessageFrom("Event++","[color#ADD8E6][color#ADD8E6]You can Respawn with:[/color] [color#FF0000]/jevent.[/color] [color#488AC7]To Check InGame ☠ Use /poevent");e.MessageFrom("Event++","[color#488AC7]▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄")}else if(n=="Point Hunter"){e.MessageFrom("Event++","[color#488AC7]▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀");e.MessageFrom("Event++","[color#ADD8E6]Your goals is to gain as much you can ☠ by stealing the other players ☠");e.MessageFrom("Event++","[color#ADD8E6]⇧⇩ ARM means protection = Protection -☠ ⇎ ⇧⇩ DMG means stealing = Stealing +☠");e.MessageFrom("Event++","[color#ADD8E6]You claim your ☠ on leaving the event with[/color] [color#FF0000]/levent");e.MessageFrom("Event++","[color#ADD8E6][color#ADD8E6]You can Respawn with:[/color] [color#FF0000]/jevent.[/color] [color#488AC7]To Check InGame ☠ Use /poevent");e.MessageFrom("Event++","[color#488AC7]▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄")}else{e.MessageFrom("Event++","[color#ADD8E6]There is no Game Style currently SET !")}}function On_PlayerHurt(e){var t=e.Attacker;var n=e.Victim;var r=Plugin.GetIni("BodyParts");var i=Plugin.GetIni("Event++");var s=Plugin.GetIni("Settings");var o=s.GetSetting("CoolDown","Abuse CD Min");var u=i.GetSetting("In Event",t.SteamID);var a=i.GetSetting("In Event",n.SteamID);var f=Plugin.GetIni("Spawns");var l=f.GetSetting("SPAWNS","spawns");var c=Math.floor(Math.random()*l+1);var h=f.GetSetting("SPAWNS",c+"X");var p=f.GetSetting("SPAWNS",c+"Y");var d=f.GetSetting("SPAWNS",c+"Z");var v=DataStore.Get("Event Points",t.SteamID);var m=DataStore.Get("Event Points",n.SteamID);var g=DataStore.Get("Event PushBack",t.SteamID);var y=DataStore.Get("Event PushBack",n.SteamID);var b=DataStore.Get("Invisible Hits",n.SteamID);var w=DataStore.Get("Event Abuse",t.SteamID);var E=DataStore.Get("Event AbuseP",t.SteamID);var S=DataStore.Get("Event AbuseP",n.SteamID);var x=System.DateTime.Now.ToString("dd")*24;var T=System.DateTime.Now.ToString("HH")*60*60;var N=System.DateTime.Now.ToString("mm")*60;var C=System.DateTime.Now.ToString("ss");var k=parseInt(x)+parseInt(T)+parseInt(N)+parseInt(C);var L=parseInt(k)+o*60;var A=e.DamageType;var O=e.WeaponName;var M=s.GetSetting("Systems","MaX Abuse Points");var _=s.GetSetting("Systems","PushBack Simulated HP");var D=s.GetSetting("Points Stealing","F1 Grenade");var P=s.GetSetting("Systems","Invisible PushBack P");var H=s.EnumSection("Level NPoints");var B=[];for(var j=0;j<H.Length;j++){B[j]=s.GetSetting("Level NPoints","Level "+(j+1));var F=B[j]}if(t!=n&&u==t.Name+" - Playing"&&a==n.Name+" - Playing"){if(parseInt(v)>parseInt(F)&&parseInt(m)>parseInt(F)){if(y<=parseInt(_)+100&&y>0&&O!="Hatchet"){DataStore.Add("Event PushBack",n.SteamID,y-e.DamageAmount);if(g<parseInt(_)){DataStore.Add("Event PushBack",t.SteamID,g+e.DamageAmount/2)}}else if(y<=0&&O!="Hatchet"){DataStore.Add("Event PushBack",n.SteamID,parseInt(_));n.TeleportTo(h,p,d);t.Notice("✪ You Pushed Back ⇛ "+n.Name+" ✪");n.Notice("✪ "+t.Name+" ⇚ Pushed You Back ✪")}else if(O=="Hatchet"){DataStore.Add("Event PushBack",n.SteamID,parseInt(_));n.TeleportTo(h,p,d);t.Notice("✪ You Pushed Back ⇛ "+n.Name+" ✪");n.Notice("✪ "+t.Name+" ⇚ Pushed You Back ✪")}e.DamageAmount=0;if(w>=parseInt(M)&&E==n.SteamID){Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");Server.BroadcastFrom("Event++","[color#488AC7]"+t.Name+"[/color] [color#ADD8E6]ABUSE DETECTED NO ACTION TAKEN ![/color] [color#00FFFF]☠ "+m+" ☠")}else if(w<parseInt(M)&&E!=n.SteamID){DataStore.Add("Event Abuse",t.SteamID,0);DataStore.Add("Event AbuseP",t.SteamID,n.SteamID)}else if(w<parseInt(M)&&E==n.SteamID){if(S!=t.SteamID){DataStore.Add("Event Abuse",t.SteamID,w+1)}else if(S==t.SteamID){DataStore.Add("Event Abuse",t.SteamID,0);DataStore.Add("Event AbuseP",n.SteamID,0)}}if(A=="Explosion"){t.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");t.MessageFrom("Event++","[color#ADD8E6]No grades allowed in DEMO !")}else{DataStore.Add("Event Points",t.SteamID,v+1);DataStore.Add("Event Points",n.SteamID,m-1);t.InventoryNotice("☠ ⇑ "+(v+1)+" ⇎ "+n.Name);n.InventoryNotice("☠ ⇓ "+(m-1)+" ⇎ "+t.Name)}ArmorRewards(t);WeaponRewards(t);ArmorCheck(n);WeaponCheck(n);CheckWpAmm(t)}else if(parseInt(v)<=parseInt(F)){t.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");DataStore.Add("Event Points",t.SteamID,0);DataStore.Add("Event Points",n.SteamID,0);DataStore.Remove("Invisible Hits",t.SteamID);t.Notice("BooM ! You reset "+n.Name+" ☠ + Yours !");n.Notice("BooM ! "+t.Name+"Reset Yours ☠ !");t.Inventory.ClearAll();EventLoadOut(t);var t=n;t.Inventory.ClearAll();EventLoadOut(t)}else if(parseInt(v)>parseInt(F)&&parseInt(m)<=parseInt(F)){if(parseInt(b)>=parseInt(P)){t.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");n.TeleportTo(h,p,d);t.Notice("INVISIBLE "+n.Name+" ⇛ Pushed Back !");n.Notice(t.Name+" ⇚ Pushed You Back !");DataStore.Add("Invisible Hits",n.SteamID,0)}else if(parseInt(b)<parseInt(P)){t.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");DataStore.Add("Invisible Hits",n.SteamID,b+1);t.InventoryNotice("☼ ⇑ "+(b+1)+" "+n.Name);n.InventoryNotice("☼ ⇓ "+(b-1)+" "+t.Name)}}e.DamageAmount=0}else if(t==n&&u==t.Name+" - Playing"||t==n&&a==n.Name+" - Playing"||A=="Explosion"&&a==n.Name+" - Playing"){t.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");e.DamageAmount=0}}function CheckWpAmm(e){var t=DataStore.Get("Event Points",e.SteamID);var n=0;var r=0;for(var i in e.Inventory.Items){if(i.Name=="9mm Ammo"||i.Name=="556 Ammo"||i.Name=="Shotgun Shells"){n=i.Quantity}}for(var s in e.Inventory.BarItems){if(s.Name=="9mm Ammo"||s.Name=="556 Ammo"||i.Name=="Shotgun Shells"){r=s.Quantity}}var o=n+r;if(o<=50){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");e.MessageFrom("Event++","[color#ADD8E6]No inventory replace in DEMO version !")}}function ArmorRewards(e){var t=DataStore.Get("Event Points",e.SteamID);var n=Plugin.GetIni("Settings");var r=n.EnumSection("Level APoints");var i=[];var s=[];var o=[];var u=[];var a=[];for(var f=0;f<r.Length;f++){i[f]=n.GetSetting("Level APoints","Level "+(f+1));s[f]=n.GetSetting("Level APoints","Level "+(f+2));u[f]=n.GetSetting("Level NPoints","Level "+(f+1));o[f]=n.GetSetting("Level AItems","Level "+(f+1));a[f]=n.GetSetting("Level NItems","Level "+(f+1));if(parseInt(t)>=i[f]&&parseInt(t)<s[f]&&f<=5){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! No Armor Bonus !");if(!e.Inventory.HasItem(o[f])){if(o[f].Contains("Helmet")){e.Inventory.RemoveItem(36);e.Inventory.AddItemTo(o[f],36,1)}else if(o[f].Contains("Vest")){e.Inventory.RemoveItem(37);e.Inventory.AddItemTo(o[f],37,1)}else if(o[f].Contains("Pants")){e.Inventory.RemoveItem(38);e.Inventory.AddItemTo(o[f],38,1)}else if(o[f].Contains("Boots")){e.Inventory.RemoveItem(39);e.Inventory.AddItemTo(o[f],39,1)}for(var l in n.EnumSection("Points Protecting")){if(l==o[f]){var c=n.GetSetting("Points Protecting",o[f]);e.Notice("⇧ ARM ⇎ LEVEL "+(f+1)+" ➲ DEF +"+c+" ☠")}}}return}else if(parseInt(t)>parseInt(u[f])&&parseInt(t)<parseInt(s[f])&&f<=5){if(e.Inventory.HasItem(a[f])){e.Inventory.RemoveItem(a[f],1);for(var l in n.EnumSection("Points Protecting")){if(l==a[f]){var c=n.GetSetting("Points Protecting",a[f]);e.Notice("⇧ ARM ⇎ LEVEL +"+(f+1)+" ➲ NEG ~"+c+" ☠")}}}return}else if(f>5){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! No more Armor Upgrades !")}}}function WeaponRewards(e){var t=DataStore.Get("Event Points",e.SteamID);var n=Plugin.GetIni("Settings");var r=n.EnumSection("Level WPoints");var i=[];var s=[];var o=[];var u=[];for(var a=0;a<r.Length;a++){i[a]=n.GetSetting("Level WPoints","Level "+(a+1));s[a]=n.GetSetting("Level WPoints","Level "+(a+2));o[a]=n.GetSetting("Level WItems","Level "+(a+1));u[a]=n.GetSetting("Level WItems","Level "+a);if(parseInt(t)>=i[a]&&parseInt(t)<s[a]&&a<=3){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! No Weapon Bonus !");if(!e.Inventory.HasItem(o[a])){e.Inventory.RemoveItem(u[a],35);e.Inventory.AddItemTo(o[a],33,1);for(var f in n.EnumSection("Points Stealing")){if(f==o[a]){var l=n.GetSetting("Points Stealing",o[a]);e.Notice("⇧ WPN ⇎ LEVEL "+(a+1)+" ➲ DMG +"+l+" ☠")}}}}else if(a>3){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! No more Weapon Upgrades !")}}}function ArmorCheck(e){var t=DataStore.Get("Event Points",e.SteamID);var n=Plugin.GetIni("Settings");var r=n.EnumSection("Level APoints");var i=[];var s=[];var o=[];var u=[];var a=[];var f=0;for(var l=0;l<r.Length;l++){i[l]=n.GetSetting("Level APoints","Level "+(l+2));s[l]=n.GetSetting("Level AItems","Level "+(l+2));o[l]=n.GetSetting("Level AItems","Level "+(l+1));u[l]=n.GetSetting("Level NPoints","Level "+(l+1));a[l]=n.GetSetting("Level NItems","Level "+(l+1));if(parseInt(t)>parseInt(u[l])&&parseInt(t)<i[l]&&l<=5||u[l]==undefined&&parseInt(t)<i[l]&&l<=5){if(e.Inventory.HasItem(s[l])){for(var c in n.EnumSection("Points Protecting")){if(c==s[l]){var h=n.GetSetting("Points Protecting",s[l]);e.Notice("⇩ ARM ⇎ LEVEL "+(l+1)+" ➲ DEF -"+h+" ☠")}}e.Inventory.RemoveItem(s[l],1);if(s[l].Contains("Helmet")){while(f<50&&!o[l].Contains("Helmet")){o[l]=n.GetSetting("Level AItems","Level "+(l-2));f++}if(!e.Inventory.HasItem(o[l])){e.Inventory.AddItemTo(o[l],36,1)}}else if(s[l].Contains("Vest")){while(f<50&&!o[l].Contains("Vest")){o[l]=n.GetSetting("Level AItems","Level "+(l-2));f++}if(!e.Inventory.HasItem(o[l])){e.Inventory.AddItemTo(o[l],37,1)}}else if(s[l].Contains("Pants")){while(f<50&&!o[l].Contains("Pants")){o[l]=n.GetSetting("Level AItems","Level "+(l-2));f++}if(!e.Inventory.HasItem(o[l])){e.Inventory.AddItemTo(o[l],38,1)}}else if(s[l].Contains("Boots")){while(f<50&&!o[l].Contains("Boots")){o[l]=n.GetSetting("Level AItems","Level "+(l-2));f++}if(!e.Inventory.HasItem(o[l])){e.Inventory.AddItemTo(o[l],39,1)}}}return}else if(parseInt(t)<=parseInt(u[l])&&l<=5){if(!e.Inventory.HasItem(a[l])){if(a[l].Contains("Helmet")){e.Inventory.RemoveItem(36);e.Inventory.AddItemTo(a[l],36,1)}else if(a[l].Contains("Vest")){e.Inventory.RemoveItem(37);e.Inventory.AddItemTo(a[l],37,1)}else if(a[l].Contains("Pants")){e.Inventory.RemoveItem(38);e.Inventory.AddItemTo(a[l],38,1)}else if(a[l].Contains("Boots")){e.Inventory.RemoveItem(39);e.Inventory.AddItemTo(a[l],39,1)}else{e.Inventory.AddItem(a[l])}for(var c in n.EnumSection("Points Protecting")){if(c==a[l]){var h=n.GetSetting("Points Protecting",a[l]);e.Notice("⇩ ARM ⇎ LEVEL -"+(l+1)+" ➲ NEG ~"+h+" ☠")}}}return}}}function WeaponCheck(e){var t=DataStore.Get("Event Points",e.SteamID);var n=Plugin.GetIni("Settings");var r=n.EnumSection("Level APoints");var i=[];var s=[];var o=[];for(var u=0;u<r.Length;u++){i[u]=n.GetSetting("Level WPoints","Level "+(u+1));s[u]=n.GetSetting("Level WItems","Level "+(u+1));o[u]=n.GetSetting("Level WItems","Level "+u);if(parseInt(t)<i[u]&&u<=3){if(!e.Inventory.HasItem(o[u])){e.Inventory.RemoveItem(s[u],35);e.Inventory.AddItemTo(o[u],33,1);for(var a in n.EnumSection("Points Stealing")){if(a==s[u]){var f=n.GetSetting("Points Stealing",s[u]);e.Notice("⇩ WPN ⇎ LEVEL "+(u+1)+" ➲ DMG -"+f+" ☠")}}}return}}}function On_PlayerSpawned(e){var t=Plugin.GetIni("Event++");var n=t.GetSetting("In Event",e.SteamID);var r=t.GetSetting("Event++","Turn");var i=DataStore.Get("Event Points",e.SteamID);if(r=="OPEN"&&n.Contains("Disconnected")&&i!=undefined){var s=Plugin.GetIni("Spawns");var o=s.GetSetting("SPAWNS","spawns");var u=Math.floor(Math.random()*o+1);var a=s.GetSetting("SPAWNS",u+"X");var f=s.GetSetting("SPAWNS",u+"Y");var l=s.GetSetting("SPAWNS",u+"Z");InvisReconFix(e);e.TeleportTo(a,f,l);t.AddSetting("In Event",e.SteamID,e.Name+" - Playing");t.Save();Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");Server.BroadcastFrom("Event++","[color#488AC7]"+e.Name+"[/color] [color#ADD8E6]RECONNECTED In Event[/color] [color#00FFFF]☠ "+i+" ☠")}else if(r=="CLOSED"&&n.Contains("Disconnected")){Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");if(i>=1){AddPoints(e,i)}DataStore.Remove("Event Points",e.SteamID);DataStore.Remove("Event PushBack",e.SteamID);DataStore.Remove("Event Abuse",e.SteamID);DataStore.Remove("Event AbuseP",e.SteamID);DataStore.Remove("Event AbuseV",e.SteamID);t.DeleteSetting("In Event",e.SteamID);t.Save();retInv(e)}else if(r=="OPEN"&&n.Contains("Disconnected")&&i==undefined){Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");DataStore.Remove("Event Points",e.SteamID);DataStore.Remove("Event PushBack",e.SteamID);DataStore.Remove("Event Abuse",e.SteamID);DataStore.Remove("Event AbuseP",e.SteamID);DataStore.Remove("Event AbuseV",e.SteamID);t.DeleteSetting("In Event",e.SteamID);t.Save();retInv(e)}else if(n.Contains("Playing")){Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");e.TeleportTo(a,f,l)}}function On_PlayerDisconnected(e){var t=Plugin.GetIni("Event++");var n=t.GetSetting("In Event",e.SteamID);var r=DataStore.Get("Event Points",e.SteamID);if(n==e.Name+" - Playing"){t.AddSetting("In Event",e.SteamID,e.Name+" - Disconnected");t.Save();Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");Server.BroadcastFrom("Event++","[color#488AC7]"+e.Name+"[/color] [color#ADD8E6]DISCONNECTED From Event[/color] [color#00FFFF]☠ "+r+" ☠")}}function GlitchCheckCallback(){Plugin.CreateTimer("GlitchCheck",6e5).Start();Server.BroadcastFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");Server.BroadcastFrom("Event++","[color#ADD8E6]No glitch protection is allowed in DEMO !")}function EventLoadOut(e){var t=Plugin.GetIni("Event++");var n=Plugin.GetIni("LoadOut");var r=n.GetSetting("Armor Items","Helm");var i=n.GetSetting("Armor Items","Vest");var s=n.GetSetting("Armor Items","Pants");var o=n.GetSetting("Armor Items","Boots");var u=n.GetSetting("Weapons","MainWP");var a=n.GetSetting("Weapons","SecondaryWP");if(r!=null){e.Inventory.AddItemTo(r,36,1)}if(i!=null){e.Inventory.AddItemTo(i,37,1)}if(s!=null){e.Inventory.AddItemTo(s,38,1)}if(o!=null){e.Inventory.AddItemTo(o,39,1)}if(u=="Torch"&&u!=null){e.Inventory.AddItemTo(u,32,250)}else if(u!="Torch"&&u!=null){e.Inventory.AddItemTo(u,32,1)}if(a=="Torch"&&a!=null){e.Inventory.AddItemTo(a,33,250)}else if(a!="Torch"&&a!=null){e.Inventory.AddItemTo(a,33,1)}for(var f in n.EnumSection("Stuffs")){var l=n.GetSetting("Stuffs",f);e.Inventory.AddItem(f,l)}}function recInv(e){var t=Plugin.GetIni("Store");var n=0;for(Item in e.Inventory.Items){if(Item.Name!=null){n++;t.AddSetting("INV "+e.SteamID,"ItemName"+n,Item.Name);t.AddSetting("INV "+e.SteamID,"ItemSlot"+n,Item.Slot);t.AddSetting("INV "+e.SteamID,"ItemQty"+n,Item.Quantity)}}for(Item in e.Inventory.BarItems){if(Item.Name!=null){n++;t.AddSetting("INV "+e.SteamID,"ItemName"+n,Item.Name);t.AddSetting("INV "+e.SteamID,"ItemSlot"+n,Item.Slot);t.AddSetting("INV "+e.SteamID,"ItemQty"+n,Item.Quantity)}}for(Item in e.Inventory.ArmorItems){if(Item.Name!=null){n++;t.AddSetting("INV "+e.SteamID,"ItemName"+n,Item.Name);t.AddSetting("INV "+e.SteamID,"ItemSlot"+n,Item.Slot);t.AddSetting("INV "+e.SteamID,"ItemQty"+n,Item.Quantity)}}t.AddSetting("INV "+e.SteamID,"Count",n);t.AddSetting("LOC "+e.SteamID,"X",e.X);t.AddSetting("LOC "+e.SteamID,"Y",e.Y+2);t.AddSetting("LOC "+e.SteamID,"Z",e.Z);t.Save();e.Inventory.ClearAll()}function retInv(e){e.MessageFrom("Event++","[color#ADD8E6][color#FF0000]Event++ DEMO Version[/color] ! Get now the full version on: [color#00FFFF]http://spoock.yolasite.com/get-it.php");var t=Plugin.GetIni("Store");var n=t.GetSetting("INV "+e.SteamID,"Count");var r=t.GetSetting("LOC "+e.SteamID,"X");var i=t.GetSetting("LOC "+e.SteamID,"Y");var s=t.GetSetting("LOC "+e.SteamID,"Z");e.Inventory.ClearAll();for(var o=1;o<=n;o++){var u=t.GetSetting("INV "+e.SteamID,"ItemName"+o);var a=t.GetSetting("INV "+e.SteamID,"ItemSlot"+o);var f=t.GetSetting("INV "+e.SteamID,"ItemQty"+o);e.Inventory.AddItemTo(u,a,f)}e.TeleportTo(r,i,s);for(var l in t.EnumSection("INV "+e.SteamID)){t.DeleteSetting("INV "+e.SteamID,l)}for(var c in t.EnumSection("LOC "+e.SteamID)){t.DeleteSetting("LOC "+e.SteamID,c)}t.Save()}function On_PluginInit(){if(!Plugin.IniExists("Event++")){var e=Plugin.CreateIni("Event++");e.AddSetting("Top System","DEMO","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");e.Save()}if(!Plugin.IniExists("Spawns")){var t=Plugin.CreateIni("Spawns")}if(!Plugin.IniExists("Store")){var n=Plugin.CreateIni("Store")}if(!Plugin.IniExists("Points")){var r=Plugin.CreateIni("Points")}if(!Plugin.IniExists("LoadOut")){var i=Plugin.CreateIni("LoadOut");i.AddSetting("Armor Items","Helm","");i.AddSetting("Armor Items","Vest","");i.AddSetting("Armor Items","Pants","");i.AddSetting("Armor Items","Boots","");i.AddSetting("Weapons","MainWP","Hatchet");i.AddSetting("Weapons","SecondaryWP","Revolver");i.AddSetting("Stuffs","9mm Ammo",250);i.AddSetting("Stuffs","F1 Grenade",10);i.AddSetting("Stuffs","Holo sight",1);i.AddSetting("Stuffs","Flashlight Mod",1);i.AddSetting("Stuffs","Silencer",1);i.AddSetting("Stuffs","Laser Sight",1);i.AddSetting("Stuffs","Cooked Chicken Breast",250);i.AddSetting("Stuffs","Flare",10);i.Save()}if(!Plugin.IniExists("BodyParts")){var s=Plugin.CreateIni("BodyParts");s.AddSetting("Head System","DEMO","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");s.Save()}if(!Plugin.IniExists("Settings")){var i=Plugin.CreateIni("Settings");i.AddSetting("Level NPoints","Level 1",-25);i.AddSetting("Level NPoints","Level 2",-50);i.AddSetting("Level NPoints","Level 3",-75);i.AddSetting("Level NPoints","Level 4",-100);i.AddSetting("Level APoints","Level 1",25);i.AddSetting("Level APoints","Level 2",30);i.AddSetting("Level APoints","Level 3",35);i.AddSetting("Level APoints","Level 4",40);i.AddSetting("Level APoints","Level 5",170);i.AddSetting("Level APoints","LvL 5+ DEMO","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Level WPoints","Level 0",0);i.AddSetting("Level WPoints","Level 1",80);i.AddSetting("Level WPoints","Level 2",620);i.AddSetting("Level WPoints","LvL 2+ DEMO","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Level NItems","Level 1","Invisible Pants");i.AddSetting("Level NItems","Level 2","Invisible Boots");i.AddSetting("Level NItems","Level 3","Invisible Vest");i.AddSetting("Level NItems","Level 4","Invisible Helmet");i.AddSetting("Level AItems","Level 1","Cloth Pants");i.AddSetting("Level AItems","Level 2","Cloth Boots");i.AddSetting("Level AItems","Level 3","Cloth Vest");i.AddSetting("Level AItems","Level 4","Cloth Helmet");i.AddSetting("Level AItems","Level 5","Rad Suit Pants");i.AddSetting("Level AItems","LvL 5+ DEMO","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Level WItems","Level 0","Revolver");i.AddSetting("Level WItems","Level 1","9mm Pistol");i.AddSetting("Level WItems","Level 2","P250");i.AddSetting("Level WItems","LvL 2+ DEMO","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Points Stealing","DEMO+","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Points Protecting","DEMO+","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("CoolDown","Leave CD Min",5);i.AddSetting("CoolDown","Abuse CD Min",15);i.AddSetting("Systems","WP+AMM Replace Cost","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","Ammo Replace At","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","Ammo Amount Replace","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","Grenade Amount Replace","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","PushBack Simulated HP",150);i.AddSetting("Systems","MaX Abuse Points",50);i.AddSetting("Systems","Invisible PushBack P",20);i.AddSetting("Systems","Glitch Checking Min","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","Max Distance From Arena","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","Glitch Kick/Back","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","Open Doors Yes/No","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","TOP Enter MSG Yes/No","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.AddSetting("Systems","TOP Besting MSG Yes/No","Event++ DEMO Version ! Get now the full version on: http://spoock.yolasite.com/get-it.php");i.Save()}GlitchCheckCallback()}